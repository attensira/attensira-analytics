"use strict";var i=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var l=Object.getOwnPropertyNames;var p=Object.prototype.hasOwnProperty;var c=(e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})},u=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of l(t))!p.call(e,n)&&n!==r&&i(e,n,{get:()=>t[n],enumerable:!(o=g(t,n))||o.enumerable});return e};var f=e=>u(i({},"__esModule",{value:!0}),e);var h={};c(h,{ATTENSIRA_DEFAULT_INGEST_URL:()=>a,trackPageHit:()=>m});module.exports=f(h);var a="https://ingest.attensira.com/v1/crawler-logs",s=new Set;function m(e,t={}){if(!e||typeof e!="string")return Promise.reject(new Error("projectId is required"));if(typeof window=="undefined")return Promise.resolve();let r=window.location.href,o=`${e}:${r}`;if(s.has(o))return Promise.resolve();s.add(o);let n={project_id:e,action:"page_hit",payload:{href:r,referrer:document.referrer||"",user_agent:navigator.userAgent,locale:navigator.language||"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||""}},d=t.ingestUrl||a;return fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),keepalive:!0}).then(()=>{})}0&&(module.exports={ATTENSIRA_DEFAULT_INGEST_URL,trackPageHit});
//# sourceMappingURL=index.cjs.map