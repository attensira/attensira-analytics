"use strict";var i=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var m=Object.prototype.hasOwnProperty;var A=(t,e)=>{for(var n in e)i(t,n,{get:e[n],enumerable:!0})},w=(t,e,n,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of h(e))!m.call(t,r)&&r!==n&&i(t,r,{get:()=>e[r],enumerable:!(a=y(e,r))||a.enumerable});return t};var v=t=>w(i({},"__esModule",{value:!0}),t);var _={};A(_,{AttensiraAnalytics:()=>s,default:()=>s,trackPageHit:()=>c});module.exports=v(_);var l=require("react");function s({projectId:t}){return(0,l.useEffect)(()=>{typeof window!="undefined"&&c(t)},[t]),null}var p="https://ingest.attensira.com/v1/crawler-logs";function c(t,e){var a;let n=typeof window!="undefined";if(!t){n&&console.error("[Attensira Analytics] projectId is required");return}if(n){let r=window.location.href,o=JSON.stringify({project_id:t,action:"page_hit",payload:{href:r,referrer:document.referrer||"",user_agent:navigator.userAgent,locale:navigator.language||"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||""}});navigator.sendBeacon(p,new Blob([o],{type:"application/json"}));return}if(e){let r=e.url,o=e.headers.get("user-agent")||"",g=e.headers.get("referer")||e.headers.get("referrer")||"",f=e.headers.get("accept-language")||"",d=JSON.stringify({project_id:t,action:"page_hit",payload:{href:r,referrer:g,user_agent:o,locale:((a=f.split(",")[0])==null?void 0:a.trim())||""}});fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:d}).catch(u=>{console.error("[Attensira Analytics] Failed to send page hit:",u)})}}0&&(module.exports={AttensiraAnalytics,trackPageHit});
//# sourceMappingURL=index.cjs.map